# yaml-language-server: $schema=https://json-schema.org/draft/2019-09/schema
$id: https://saulo.engineer/contributes/marko-js/schemas/models/tag.base
$schema: https://json-schema.org/draft/2019-09/schema

title: Tag Base
description: Base definitions for a Tag.

type: object
unevaluatedProperties: false
anyOf:
  - 
    type: object
    $ref: "#/$defs/camelCased"

  - 
    type: object
    $ref: "#/$defs/dash-cased"

$defs:
  base:
    type: object
    allOf:
      - 
        type: object
        $ref: ../property-groups/file-mappings.yaml

      - 
        type: object
        $ref: ../property-groups/shorthands.yaml

  camelCased:
    title: "Tag Base :: camelCased"
    type: object

    allOf:
      - $ref: ../property-groups/file-mappings.yaml
        type: object

      - $ref: ../property-groups/shorthands.yaml
        type: object

      - $ref: ../property-groups/compiler-hooks.yaml#/camelCased
        type: object
        
      - $ref: ../property-groups/shared.yaml#/camelCased
        type: object
        
  dash-cased:
    title: "Tag Base :: dash-cased"
    type: object
        
    allOf:
      - $ref: "#/$defs/base"
        type: object
        
      - $ref: ../property-groups/compiler-hooks.yaml#/dash-cased
        type: object
        
      - $ref: ../property-groups/shared.yaml#/dash-cased
        type: object
        
  topLevel-tag-properties:
    title: Attribute Groups
    type: object
        
    anyOf:
      - type: object
        not:
          required:
            - attribute-groups
        properties:
          attributeGroups:
            type: object
            description: Defines groups of attributes that can then be referenced from tag
              definitions.
            patternProperties:
              .*:
                $ref: ../utils/maps.yaml#/attribute-map
                type: object

      - type: object
        not:
          required:
            - attributeGroups
        properties:
          attribute-groups:
            type: object
            description: Defines groups of attributes that can then be referenced from tag
              definitions.
            patternProperties:
              .*:
                $ref: ../utils/maps.yaml#/attribute-map
  nested-tag-properties:
    title: Attribute Groups
    type: object

    anyOf:
      - type: object
        not:
          required:
            - attribute-groups
        properties:
          attributeGroups:
            type: array
            description: Names of attribute groups that should be added to this tag.
            items:
              type: string

      - type: object
        not:
          required:
            - attributeGroups
        properties:
          attribute-groups:
            type: array
            description: Names of attribute groups that should be added to this tag.
            items:
              type: string
